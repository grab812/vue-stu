<!doctype html>
<html lang="ko">

<head>
	<meta charset="utf-8">
	<title>탭메뉴명</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="stylesheet"  href="https://ecs.cjenm.com/css/font-awesome/css/all.min.css" >
	<link rel="stylesheet" href="https://ecs.cjenm.com/css/layout.css">
	<link rel="stylesheet" href="https://ecs.cjenm.com/css/blue/default.css">
	<link rel="stylesheet" href="https://ecs.cjenm.com/css/blue/button.css">
	<link rel="stylesheet" href="https://ecs.cjenm.com/css/bootstrap_modify.css">
    <link rel="stylesheet" href="https://ecs.cjenm.com/lib/AUIGrid/AUIGrid_style.css">
	<link rel="stylesheet" href="https://ecs.cjenm.com/lib/AUIGrid/blue/AUIGrid_custom.css">
	<link rel="stylesheet" href="https://ecs.cjenm.com/lib/AUIPivot/AUIPivot_style.css">
	<link rel="stylesheet" href="https://ecs.cjenm.com/lib/AUIPivot/blue/AUIPivot_custom.css">
	<!-- daterange picker -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.0.3/daterangepicker.css">
	<!-- bootstrap datepicker -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.css.map">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/css/bootstrap-select.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
	<!-- design ui JS-->
	<script src="https://ecs.cjenm.com/js/design/ui.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.js"></script>
	<!-- date-range-picker -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.0.3/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.0.3/daterangepicker.min.js"></script>
	<!-- bootstrap datepicker -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.js"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/js/bootstrap-select.min.js"></script>

    <!-- 20240202 Dashboard Custom CSS -->
    <style>
        .tit_noicon::before { content: normal; }
    </style>
    <!-- // 20240202 Dashboard Custom CSS -->
</head>

<body>
<div class="contentWrap">
	<div class="titWrap">
		<h2 class="h2_tit">탭메뉴명</h2>
	</div>
	<div id="subcontent">
        <!-- 조회 조건 -->
        <div class="cont-header">
			<!-- search  -->
			<form class="" action="" method="">
				<fieldset>
					<legend>검색</legend>

					<div class="srchWrap">
						<div class="container">
							<div class="tblWrap">
								<table>
								<colgroup>
									<col style="width:86px" />
									<col style="width:14%" />
									<col style="width:7%" />
									<col style="width:20%" />
									<col />
									<col />
								</colgroup>
								<tbody>
									<tr>
										<th scope="row">
											<label for="">날짜</label><!-- label for, id 값 일치 -->
										</th>
										<td>
                                            <!-- 달력+달력 -->
											<div class="daterange">
												<div class="datepickerWrap">
													<input type="text" class="textBox" id="start" data-date-format="yyyy-mm-dd" value="2019-03-01">
													<i class="far fa-calendar-alt"></i>
												</div>
												<span>~</span>
												<div class="datepickerWrap">
													<input type="text" class="textBox" id="start" data-date-format="yyyy-mm-dd" value="2019-03-01">
													<i class="far fa-calendar-alt"></i>
												</div>
                                            </div>
                                            <!-- 달력+달력 -->
										</td>                                        
										<th scope="row">
											<label for="">작성자</label><!-- label for, id 값 일치 -->
										</th>
										<td>
                                            <div class="search flexbox">
                                                <div class="searchBox">
                                                    <input type="text" class="searchTxt w140" id="">
                                                    <button type="button" name="button" class="btnsearch">
                                                        <i class="fa fa-search"></i>
                                                    </button>
                                                </div>
                                                <input type="text" class="textBox" value="" readonly="">
                                            </div>
                                        </td>
                                        <td></td>
									</tr>
								</tbody>
							</table>
							</div>
						</div>
					</div>
				</fieldset>
			</form>
			<!--// search  -->
        </div>
        <!-- // 조회 조건 -->

        <div class="contents row-2">
            <div class="container mt10 inheritH flexH" style="height: 800px;">
                <div class="row">
                    <div class="col-4">
                        <div class="mainWidget">
                            <div class="widgetTit">
                                <h3 class="h3_tit">
                                    화면 접속 순위 TOP5
                                </h3>
                            </div>
                            <div class="widgetCont d-flex flex-column align-items-stretch">
                                <div class="group">
                                    <h4 class="h4_tit col-8 tit_noicon mb10 border-bottom font-italic">01. 유형별 투자 실적</h4>
                                    <div id="chartDashboard1" class="chartBox" style="height: 600px;"><!-- 20240202 height는 원하시는 크기로 수정 가능합니다. -->
                                        CHARTS
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-8">
                        <div class="mainWidget">
                            <div class="widgetTit">
                                <h3 class="h3_tit">
                                    One 시스템별 예외 요류 발생 추의
                                </h3>
                            </div>
                            <div class="widgetCont d-flex flex-column align-items-stretch">
                                <div class="group">
                                    <h4 class="h4_tit col-8 tit_noicon mb10 border-bottom font-italic">01. 유형별 투자 실적</h4>
                                    <div id="chartBarDiv1" class="chartBox" style="height: 600px;"><!-- 20240202 height는 원하시는 크기로 수정 가능합니다. -->
                                        CHARTS
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
	</div>
</div>

<!-- Styles -->
<style>

</style>

<!-- Resources -->
<script src="https://cdn.amcharts.com/lib/5/index.js"></script>
<script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
<script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
<!-- Chart code -->
<script>
    am5.ready(function() {
    
    // Create root element
    // https://www.amcharts.com/docs/v5/getting-started/#Root_element
    var root = am5.Root.new("chartDashboard1");
    
    // Set themes
    // https://www.amcharts.com/docs/v5/concepts/themes/
    root.setThemes([
      am5themes_Animated.new(root)
    ]);
    
    var data = [
      {
        ranking: 5,
        name: "Joey",
        steps: 35781,
        pictureSettings: {
          src: "https://www.amcharts.com/wp-content/uploads/2019/04/joey.jpg"
        }
      },
      {
        ranking: 4,
        name: "Ross",
        steps: 25464,
        pictureSettings: {
          src: "https://www.amcharts.com/wp-content/uploads/2019/04/ross.jpg"
        }
      },
      {
        ranking: 3,
        name: "Phoebe",
        steps: 18788,
        pictureSettings: {
          src: "https://www.amcharts.com/wp-content/uploads/2019/04/phoebe.jpg"
        }
      },
      {
        ranking: 2,
        name: "Rachel",
        steps: 15465,
        pictureSettings: {
          src: "https://www.amcharts.com/wp-content/uploads/2019/04/rachel.jpg"
        }
      },
      {
        ranking: 1,
        name: "Chandler",
        steps: 11561,
        pictureSettings: {
          src: "https://www.amcharts.com/wp-content/uploads/2019/04/chandler.jpg"
        }
      }
    ];
    
    // Create chart
    // https://www.amcharts.com/docs/v5/charts/xy-chart/
    var chart = root.container.children.push(
      am5xy.XYChart.new(root, {
        panX: false,
        panY: false,
        paddingLeft:0,
        paddingRight:30,
        wheelX: "none",
        wheelY: "none"
      })
    );
    
    // Create axes
    // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/
    
    var yRenderer = am5xy.AxisRendererY.new(root, {
      minorGridEnabled:true
    });
    yRenderer.grid.template.set("visible", false);
    
    var yAxis = chart.yAxes.push(
      am5xy.CategoryAxis.new(root, {
        categoryField: "name",
        renderer: yRenderer,
        paddingRight:40
      })
    );
    
    var xRenderer = am5xy.AxisRendererX.new(root, {
      minGridDistance:80,
      minorGridEnabled:true
    });
    
    var xAxis = chart.xAxes.push(
      am5xy.ValueAxis.new(root, {
        min: 0,
        renderer: xRenderer
      })
    );
    
    // Add series
    // https://www.amcharts.com/docs/v5/charts/xy-chart/series/
    var series = chart.series.push(
      am5xy.ColumnSeries.new(root, {
        name: "Income",
        xAxis: xAxis,
        yAxis: yAxis,
        valueXField: "steps",
        categoryYField: "name",
        sequencedInterpolation: true,
        calculateAggregates: true,
        maskBullets: false,
        tooltip: am5.Tooltip.new(root, {
          dy: -30,
          pointerOrientation: "vertical",
          labelText: "{valueX}"
        })
      })
    );
    
    series.columns.template.setAll({
      strokeOpacity: 0,
      cornerRadiusBR: 50,
      cornerRadiusTR: 50,
      cornerRadiusBL: 0,
      cornerRadiusTL: 0,
      maxHeight: 50,
      fillOpacity: 0.8
    });
    
    // var currentlyHovered;
    
    // series.columns.template.events.on("pointerover", function(e) {
    //   handleHover(e.target.dataItem);
    // });
    
    // series.columns.template.events.on("pointerout", function(e) {
    //   handleOut();
    // });
    
    // function handleHover(dataItem) {
    //   if (dataItem && currentlyHovered != dataItem) {
    //     handleOut();
    //     currentlyHovered = dataItem;
    //     var bullet = dataItem.bullets[0];
    //     bullet.animate({
    //       key: "locationX",
    //       to: 1,
    //       duration: 600,
    //       easing: am5.ease.out(am5.ease.cubic)
    //     });
    //   }
    // }
    
    // function handleOut() {
    //   if (currentlyHovered) {
    //     var bullet = currentlyHovered.bullets[0];
    //     bullet.animate({
    //       key: "locationX",
    //       to: 0,
    //       duration: 600,
    //       easing: am5.ease.out(am5.ease.cubic)
    //     });
    //   }
    // }
    
    
    var circleTemplate = am5.Template.new({});
    
    series.bullets.push(function() {
    return am5.Bullet.new(root, {
      locationX: 0.5,
      locationY: 0.5,
      sprite: am5.Circle.new(root, {
        radius: 15,
        fill: am5.color(0xffffff)
      })
    });
  });


    series.bullets.push(function(root, series, dataItem) {
      var bulletContainer = am5.Container.new(root, {});
      var circle = bulletContainer.children.push(
        am5.Circle.new(
          root,
          {
            locationX: 0.5,
            locationY: 0.5,
            radius: 20,
            sprite: am5.Label.new(root, {
                text: "{ranking}",
                centerX: am5.percent(0),
                centerY: am5.percent(50),
                textAlign: "center",
                populateText: true
            })
          },
          circleTemplate
        )
      );
    
    //   var maskCircle = bulletContainer.children.push(
    //     am5.Circle.new(root, { radius: 27 })
    //   );
    
    //   // only containers can be masked, so we add image to another container
    //   var imageContainer = bulletContainer.children.push(
    //     am5.Container.new(root, {
    //       mask: maskCircle
    //     })
    //   );
    
    //   // not working
    //   var image = imageContainer.children.push(
    //     am5.Picture.new(root, {
    //       templateField: "pictureSettings",
    //       centerX: am5.p50,
    //       centerY: am5.p50,
    //       width: 60,
    //       height: 60
    //     })
    //   );
    
      return am5.Bullet.new(root, {
        locationX: 0,
        sprite: bulletContainer
      });
    });
    
    // heatrule
    series.set("heatRules", [
      {
        dataField: "valueX",
        min: am5.color(0xe5dc36),
        max: am5.color(0x5faa46),
        target: series.columns.template,
        key: "fill"
      },
      {
        dataField: "valueX",
        min: am5.color(0xe5dc36),
        max: am5.color(0x5faa46),
        target: circleTemplate,
        key: "fill"
      }
    ]);
    
    series.data.setAll(data);
    yAxis.data.setAll(data);
    
    var cursor = chart.set("cursor", am5xy.XYCursor.new(root, {}));
    cursor.lineX.set("visible", false);
    cursor.lineY.set("visible", false);
    
    cursor.events.on("cursormoved", function() {
      var dataItem = series.get("tooltip").dataItem;
      if (dataItem) {
        handleHover(dataItem)
      }
      else {
        handleOut();
      }
    })
    
    // Make stuff animate on load
    // https://www.amcharts.com/docs/v5/concepts/animations/
    series.appear();
    chart.appear(1000, 100);
    
    }); // end am5.ready()
    </script>

</body>

</html>
